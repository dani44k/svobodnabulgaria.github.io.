const quizData = [
    {
        //1
        question: "В кой град руският император Александър II обявява войната срещу Османската империя?",
        a: "Киев",
        b: "Букурещ",
        c: "Москва",
        d: "Кишинев",
        correct: "c",
    },
    {
        //2
        question: "Представители на кой скандинавски народ са се сражавали за българската свобода?",
        a: "датчани",
        b: "норвежци",
        c: "шведи",
        d: "финландци",
        correct: "d",
    },
    {
        //3
        question: "Кой български и кой руски град са побратимени заради съдбата на едно бойно знаме?",
        a: "Сливен и Смоленск",
        b: "Стара Загора и Самара",
        c: "Русе и Ростов на Дон",
        d: "Пловдив и Псков",
        correct: "b",
    },
    {
        //4
        question: "В коя област на България се намира градът, кръстен на генерал Йосиф Гурко?",
        a: "Сливен",
        b: "Стара Загора",
        c: "Пловдив",
        d: "Ямбол",
        correct: "b",
    },
    {
        //5
        question: "Сан Стефано, мястото където е подписан договорът от 3 март, в наши дни е квартал на Истанбул, известен с името...",
        a: "Халич",
        b: "Йешилкьой",
        c: "Фенер",
        d: "Галата",
        correct: "b",
    },
    {
        //6
        question: "При кой български град руските войски пресичат р. Дунав и започват настъплението си в Османската империя при началото на Освободителната война?",
        a: "Силистра",
        b: "Русе",
        c: "Свищов",
        d: "Тутракан",
        correct: "c",
    },
    {
        //7
        question: "Освен на юг от р. Дунав, къде другаде се водят мащабни военни действия между руските и османски войски по време на войната?",
        a: "планината Кавказ",
        b: "Кримският полуостров",
        c: "островите на Егейско море",
        d: "пустинята Къзълкум",
        correct: "a",
    },
    {
        //8
        question: "Една от битките в хода на Освободителната война е Битката при Джурангли. В коя част на българските земи се случва тя?",
        a: "Черноморие",
        b: "Стара планина",
        c: "Горнотракийска низина",
        d: "Дунавска равнина",
        correct: "c",
    },
    {
        //9
        question: "Коя балканска държава не се включва в освободителната за България Руско-турска война?",
        a: "Гърция",
        b: "Сърбия",
        c: "Черна гора",
        d: "Румъния",
        correct: "a",
    },
    {
        //10
        question: "Кой град не е попадал във военната групировка Четириъгълника на крепостите – османски военни крепости в Североизточна България?",
        a: "Силистра",
        b: "Шумен",
        c: "Добрич",
        d: "Варна",
        correct: "c",
    },
    {
        //11
        question: "Какво се е случило на 3-ти март 1878 година ?",
        a: "Подписан е Санстефанският мирен договор.",
        b: "Подписан е Берлинският мирен договор.",
        c: "Подписан е Ньойският мирен договор",
        d: "Подписан е Парижкият мирен договор.",
        correct: "a",
    },
    {
        //12
        question: "3-ти март е обявен за национален празник на България през?",
        a: "1878 г.",
        b: "1945 г.",
        c: "1989 г.",
        d: "1990 г.",
        correct: "a",
    },
    {
        //13
        question: " Кое от изброените за българското опълчение е вярно?",
        a: "Знамето на опълчението, ушито от Стилияна Параскевова е прототип на сегашното знаме на България.",
        b: "Командир на българското опълчение е генерал Столетов.",
        c: "Иван Вазов посвещава одата „Опълченците на Шипка“ на участието на българското опълчение в Руско-турската война.",
        d: "Всичко изброено е вярно.",
        correct: "b",
    },
    {
        //14
        question: "Кое от изброените за паметника на Царя-освободител е вярно?",
        a: "Паметникът представлява руския император Александър II на кон.",
        b: "Надписът му гласи „Признателна България",
        c: "Паметникът е дело на австрийския  скулптор Арналдо Дзоки.",
        d: "Паметникът е открит е на 30 август 1900 г.",
        correct: "a",
    },
    {
        //15
        question: "Коя черква е запазена като исторически паметник от Априлското въстание до наши дни? ",
        a: "“Св. Неделя“ в Батак",
        b: "Св. Петка Самарджийска“ в София",
        c: "Църквата в Рилския манастир",
        d: "Църквата „Свети седмочисленици“ в София.",
        correct: "a",
    },
    {
        //16
        question: "В знак на признателност на загиналите в коя битка от Руско – турската война е изградена панорамата „Плевенска епопея?",
        a: "Пловдив",
        b: "Плевен",
        c: "София",
        d: "Видин",
        correct: "b",
    },
 
    {
        //17
        question: "Кога избухва Априлското въстание?",
        a: "1866г.",
        b: "1875г.",
        c: "1876г.",
        d: "1896г.",
        correct: "c",
    },
 
    {
        //18
        question: 'Кой ушива знамето на Априлското въстание с надпис "Свобода или смърт"?',
        a: "Стефан Стамболов",
        b: "Райна Попгеоргиева",
        c: "Христо Караминков",
        d: "Стоян Заимов",
        correct: "b",
      },

      {
        //19
        question: 'Кой български революционер е живял в продължение на няколко години в метоха на църквата „Свети Димитър“ в Стара Загора?',
        a: "Васил Левски",
        b: "Георги Раковски",
        c: "Панайот Волов",
        d: "Кольо Ганчев",
        correct: "a",
      },

      {
        //20
        question: 'Кой е ръководител на Старозагорското въстание през 1875 година?',
        a: "Стефан Стамболов",
        b: "Иван Хаджидимитров",
        c: "Кольо Ганчев",
        d: "Захари Стоянов",
        correct: "c",
      },

      {
        //21
        question: 'Кой е първият кмет на Стара Загора след Освобождението?',
        a: "Марко Балабанов",
        b: "Петко Рачев Славейков",
        c: "генерал Гурко",
        d: "подполковник Калитин",
        correct: "b",
      },
      
      {
        //22
        question: 'В Стара Загора са родени двама светци мъченици, почитани от Българската православна църква – Св. Георги Загорски и Св. Игнатий Старозагорски. Какви са били те?',
        a: "дядо и внук",
        b: "баща и син",
        c: "братя",
        d: "вуйчо и племенник",
        correct: "b",
      },

      {
        //23
        question: 'На кой български поет принадлежат стиховете : „ Тоз , който падне в бой за свобода, той не умира“?',
        a: "Г. С. Раковски",
        b: "Христо Ботев",
        c: "Петко Р. Славейков",
        d: "Добри Войников",
        correct: "b",
      },

      {
        //24
        question: 'За кого се отнасят следните биографични данни  : „Той е роден в град Банско в заможно семейство.Става монах в Хилендарския манастир на Света гора, където брат му е игумен. Подтикнаk от родолюбиви  чувства, започва да издирва извори за българското минало“?',
        a: "Софроний Врачански",
        b: "Игнатий Старозагорски",
        c: "Паисий Хилендарски",
        d: "Стефан Софийски",
        correct: "c",
      },

      {
        //24
        question: 'Родолюбивият котленец д-р Петър Берон създава първия български учебник. Под какво име е известен той?',
        a: "Граматика на българския книжовен език",
        b: "Рибен буквар",
        c: "Размисли и деяния върху езика български",
        d: "Буквар",
        correct: "b",
      },
];

 
const quiz = document.getElementById('quiz');
const answerEls = document.querySelectorAll('.answer');
const questionEl = document.getElementById('question');
const a_text = document.getElementById('a_text');
const b_text = document.getElementById('b_text');
const c_text = document.getElementById('c_text');
const d_text = document.getElementById('d_text');
const submitBtn = document.getElementById('submit');

let currentQuiz = 0;
let score = 0;
let quizQuestions = [];
const quizDataCopy = [...quizData];

// Generate 10 random questions
for (let i = 0; i < 10; i++) {
  const randomIndex = Math.floor(Math.random() * quizDataCopy.length);
  quizQuestions.push(quizDataCopy[randomIndex]);
  quizDataCopy.splice(randomIndex, 1);
}

loadQuiz();

function loadQuiz() {
  deselectAnswers();
  const currentQuizData = quizQuestions[currentQuiz];
  questionEl.innerText = currentQuizData.question;
  a_text.innerText = currentQuizData.a;
  b_text.innerText = currentQuizData.b;
  c_text.innerText = currentQuizData.c;
  d_text.innerText = currentQuizData.d;
}

function deselectAnswers() {
  answerEls.forEach(answerEl => (answerEl.checked = false));
}

function getSelected() {
  let answer;
  answerEls.forEach(answerEl => {
    if (answerEl.checked) {
      answer = answerEl.id;
    }
  });
  return answer;
}

submitBtn.addEventListener('click', () => {
  const answer = getSelected();
  if (answer) {
    if (answer === quizQuestions[currentQuiz].correct) {
      score++;
    }

    currentQuiz++;

    if (currentQuiz < quizQuestions.length) {
      loadQuiz();
    } else {
      quiz.innerHTML = `
        <h2>Ти отговори на ${score}/${quizQuestions.length} въпроса правилно</h2>
        <button id="restart">Опитай пак</button>
      `;
      document.getElementById("restart").addEventListener("click", () => {
        quizQuestions = [];
        quizDataCopy.forEach(question => quizQuestions.push(question));
        score = 0;
        currentQuiz = 0;
        // Generate 10 random questions
        for (let i = 0; i < 10; i++) {
          const randomIndex = Math.floor(Math.random() * quizDataCopy.length);
          quizQuestions.push(quizDataCopy[randomIndex]);
          quizDataCopy.splice(randomIndex, 1);
        }
        loadQuiz();
      });
    }
  }
});
